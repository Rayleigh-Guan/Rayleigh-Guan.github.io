<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Rayleigh Guan" />



<meta name="description" content="什么是跨链技术？跨链，指跨过链与链之间的障碍进行直接交互，在保证价值守恒的前提下，实现不同区块链之间的资产流通和价值转移。">
<meta property="og:type" content="article">
<meta property="og:title" content="跨链技术">
<meta property="og:url" content="https://rayleigh-guan.github.io/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="Rayleigh‘s Blog">
<meta property="og:description" content="什么是跨链技术？跨链，指跨过链与链之间的障碍进行直接交互，在保证价值守恒的前提下，实现不同区块链之间的资产流通和价值转移。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.78z22jouib00.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.53llxns3hy40.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image-20211020145238761.1ssfj4olj8io.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.12e21ota3hpc.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.4ts7zpfp7fa0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.sc0641sco7k.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.78h4xn9x1jc0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.42wbjsutc080.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.crg633zoxqo.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.12qd4uxqihts.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.q1zfivq89o0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.6rr12h296hk0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.y4crhv1yw5c.png">
<meta property="article:published_time" content="2021-10-20T02:47:24.000Z">
<meta property="article:modified_time" content="2021-12-30T16:18:36.391Z">
<meta property="article:author" content="Rayleigh Guan">
<meta property="article:tag" content="跨链技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.78z22jouib00.png">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Rayleigh‘s Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/weblogo.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>跨链技术 | Rayleigh‘s Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/mylogo.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:417024990@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/Rayleigh-Guan" title="GitHub"></a>
                            
                                <a class="fa QQ" href="/417024990" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gamefi%E7%BB%8F%E6%B5%8E%E6%A8%A1%E5%9E%8B/" rel="tag">Gamefi经济模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Layer2/" rel="tag">Layer2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Layer2%E8%90%BD%E5%9C%B0%E6%96%B9%E6%A1%88/" rel="tag">Layer2落地方案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/" rel="tag">跨链技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%89%E8%B0%83/" rel="tag">选调</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%90%E7%A7%81%E8%AE%A1%E7%AE%97/" rel="tag">隐私计算</a></li></ul>
                    </div>
                </section>
                
                
                

                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/mylogo.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:417024990@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/Rayleigh-Guan" title="GitHub"></a>
                            
                                <a class="fa QQ" target="_blank" href="/417024990" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-跨链技术" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/" class="article-date">
      <time datetime="2021-10-20T02:47:24.000Z" itemprop="datePublished">2021-10-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      跨链技术
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/" rel="tag">跨链技术</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="什么是跨链技术？"><a href="#什么是跨链技术？" class="headerlink" title="什么是跨链技术？"></a>什么是跨链技术？</h2><p>跨链，指跨过链与链之间的障碍进行直接交互，在保证价值守恒的前提下，实现不同区块链之间的资产流通和价值转移。</p>
<span id="more"></span> 

<h2 id="跨链的常见互操作类型："><a href="#跨链的常见互操作类型：" class="headerlink" title="跨链的常见互操作类型："></a>跨链的常见互操作类型：</h2><h3 id="跨链资产兑换："><a href="#跨链资产兑换：" class="headerlink" title="跨链资产兑换："></a>跨链资产兑换：</h3><p>资产兑换即将一条链上资产兑换成等值的另一条链上资产。</p>
<h3 id="跨链资产转移："><a href="#跨链资产转移：" class="headerlink" title="跨链资产转移："></a>跨链资产转移：</h3><p>资产转移则是将链上的资产转移至另一条区块链上，即需要将原有链上的资产进行锁定，并在另一条链上重新铸造等量等值的资产，以此来实现资产转移。</p>
<h3 id="跨链任意数据："><a href="#跨链任意数据：" class="headerlink" title="跨链任意数据："></a>跨链任意数据：</h3><p>即两个区块链上的智能合约内的任意数据进行转移互通。</p>
<h2 id="跨链技术的发展历史："><a href="#跨链技术的发展历史：" class="headerlink" title="跨链技术的发展历史："></a>跨链技术的发展历史：</h2><p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.78z22jouib00.png" alt="图片源自[1]"></p>
<p>早期区块链技术技术的发展基本都是基于单链形式，但是由于单链的性能优化和技术升级存在较大难度，不能满足实际应用需求；因此，大量基于单链扩张的内容被研究，并逐渐过渡到多链协同发展阶段。</p>
<p>2012 年瑞波实验室提出了InterLedger协议，解决了区块链跨系统之间的协同问题;2013 年Herlihy提出了原子交换的理念，指出在构成一笔完整跨链交易的子交易中只存在2种情况，即成功和彻底失败;2014年BlockSream提出了侧链机制，通过利用双向锚定实现了加密资产在主链与侧链之间的转移，并在此基础上提出了强联邦侧链,这不仅提升了互操作性，还有效地缩减了主链与侧链之间的时延;2015 年比特币闪电网络利用哈希时间锁定机制，实现了比特币链下快速交易，提升了比特币系统的交易效 率;2016 年BTC-Relay利用中继跨链实现了比特币和以太坊之间的单向跨链通信;2017 年，在Cosmos和Polkadot跨链项目中提出了搭建跨链基础平台的方案，以实现兼容所有区块链应用的目的。</p>
<h2 id="跨链的类型："><a href="#跨链的类型：" class="headerlink" title="跨链的类型："></a>跨链的类型：</h2><p>跨链根据所跨域的区块链底层技术的是否相同分为同构链跨链、异构链跨链。</p>
<h3 id="同构链跨链："><a href="#同构链跨链：" class="headerlink" title="同构链跨链："></a>同构链跨链：</h3><p>同构链之间的网络拓扑、安全机制、共识算法、区块生成验证逻辑都是一致的，因此同构链之间的跨链交互相对简单。</p>
<h3 id="异构链跨链："><a href="#异构链跨链：" class="headerlink" title="异构链跨链："></a>异构链跨链：</h3><p>异构链之间的共识机制、网络拓扑存在较大差异，使得异构链的跨链交互相对复杂，但是在实际应用场景中，需要研究的更多的是异构链之间的跨链交互。</p>
<h2 id="跨链技术的难点："><a href="#跨链技术的难点：" class="headerlink" title="跨链技术的难点："></a>跨链技术的难点：</h2><h3 id="跨链事务管理问题："><a href="#跨链事务管理问题：" class="headerlink" title="跨链事务管理问题："></a>跨链事务管理问题：</h3><p>跨链技术务必要保证在进行资产兑换或者转移时不会发生“双花问题”，即跨链的交易必须同时成功或者同时失败。保证链间交易双方的账本信息同步更新且保持跨链交易的一致性。事实上一个完整的跨链交易可以拆分成若干个子交易，每个子交易在各自所属的区块链系统中进行处理，这些子交易构成一个事务。如果某一子交易执行失败，则必须能回滚撤销之前的子交易，因此跨链技术必须要保证过程中的交易的原子性。</p>
<h3 id="跨链交易验证问题："><a href="#跨链交易验证问题：" class="headerlink" title="跨链交易验证问题："></a>跨链交易验证问题：</h3><p>跨链交易过程的牵扯到验证主要包含两方面，一是确认交易执行完毕并成功写入区块链账本；二是跨链交易双方在跨链交易过程中能够彼此验证交易的合法性和有效性。但目前的困境在于大部分的区块链系统是相对封闭的，使得链与链之间的的数据交互并不简单，从而验证另一条链中的交易合法性和有效性时一个比较有难度的工作，目前常见的策略为“区块头+SPV”的验证模式。</p>
<h3 id="跨链交易性能问题："><a href="#跨链交易性能问题：" class="headerlink" title="跨链交易性能问题："></a>跨链交易性能问题：</h3><p>区块链的交易处理能力与可扩展性一直是区块链技术突破的重要方向。区块链系统在达成共识的过程中存在去中心化、安全性和可扩展性的不可能三角问题，使得区块链只能兼顾其中的 2 项。尽管当前某些区块链项目能够达到数百万量级的TPS，但都只有在少量验证节点的前提下才能实现，同时还降低了系统去中心化的特性。随着跨链交易规模的不断扩大， 跨链交易对并发执行速度的性能需求越来越高，使 得跨链交易并发性和可扩展性成为了跨链技术亟待解决的技术难点。</p>
<h3 id="多链协议适配问题："><a href="#多链协议适配问题：" class="headerlink" title="多链协议适配问题："></a>多链协议适配问题：</h3><p>实现多链互联互通主要从主动兼容和被动兼容 2 个方向进行突破来解决多链协议适配问题。 主动兼容是在已有的异构区块链系统基础之上，研发底层跨链机制，针对已有的区块链的实际应用中开发适用于不同场景的跨链技术，即先有上层不同的区块链应用系统，再进行底层的跨链机制研发，进而实现跨场景的资产流通和价值转移。被动兼容是自底向上，从底层平台入手，先搭建好跨链平台，在此基础上再进行区块链系统的开发，同时还可以提供接口接入更多的区块链系统，共享跨链平台的系统便利。</p>
<h3 id="锁定资产管理问题："><a href="#锁定资产管理问题：" class="headerlink" title="锁定资产管理问题："></a>锁定资产管理问题：</h3><p>锁定资产管理能够实现链上资产锁定冻结，同时设定区块链上资产锁定和解锁的条件，能够有效地管理交易账户，确保锁定资产的私密性以及交易的安全性，也避免了交易过程中“双花”问题的出现。目前，锁定资产管理主要有智能合约模式、单一托管人模式以及联盟链托管模式。由于其应用场景和使用范围都有一定的局限性，因此跨链技术在锁定资产管理方面还有待进一步突破创新。</p>
<h3 id="跨链安全保障问题："><a href="#跨链安全保障问题：" class="headerlink" title="跨链安全保障问题："></a>跨链安全保障问题：</h3><p>区块链系统之间进行跨链交互时，如何确保双方系统的安全性是跨链技术研究一大难题。目前主要从适度隔离、检测安全事件 2 个方面进行考虑。适当隔离主要是为了避免当一条链受到攻击时影响整个跨链系统的运行，尽量保持链之间的独立性;检测安全事件是通过具有检测恶意攻击能力的第三方节点来处理跨链事务，使得跨链系统具有类似防火墙的功能。跨链安全保障问题将是跨链技术不断重视的一个技术研究点，也是跨链技术的防护盾，值得进一步深入研究并不断完善。</p>
<h2 id="目前主流的跨链技术："><a href="#目前主流的跨链技术：" class="headerlink" title="目前主流的跨链技术："></a>目前主流的跨链技术：</h2><h3 id="公证人机制（notary-scheme）："><a href="#公证人机制（notary-scheme）：" class="headerlink" title="公证人机制（notary scheme）："></a>公证人机制（notary scheme）：</h3><p>和传统的交易所工作模式类似，公证人机制是通过引入可信的第三方进行跨链消息的验证和转发。当在不同的区块链系统中进行资产兑换和转移时，选举一个或者多个组织作为公证人来自动或者请求式监听不同链上的事件，并通过特定共识算法对事件是否发生达成共识，最后及时做出响应。 目前，公证人机制根据实现过程中签名方式的差异又分为单签名公证人机制、多重签名公证人机制和分布式签名公证人机制。公证人机制最经典的例子就是Ripple 提出的 Interledger 协议。</p>
<h4 id="单签名公证人机制："><a href="#单签名公证人机制：" class="headerlink" title="单签名公证人机制："></a>单签名公证人机制：</h4><p>指定单一的独立节点或者机构充当公证人，本质是可以看作是一种中心化的处理方式。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.53llxns3hy40.png" alt="图片源自[1]"></p>
<h4 id="多重签名公证人："><a href="#多重签名公证人：" class="headerlink" title="多重签名公证人："></a>多重签名公证人：</h4><p>多重签名公证人机制是在进行交易验证时从公证人群体中随机地选出一部分公证人，然后利用密码学技术来共同完成签名，和单签名公证人机制相比，多重签名公证人弱化了中心化的风险，降低了对公证人可靠性的依赖程度，并且能够保证部分公证人节点遭受攻击时不会影响整个跨链系统的运行。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image-20211020145238761.1ssfj4olj8io.png" alt="图片源自[1]"></p>
<h4 id="分布式多重签名公证人："><a href="#分布式多重签名公证人：" class="headerlink" title="分布式多重签名公证人："></a>分布式多重签名公证人：</h4><p>该模式是在多重签名公证人的基础上进行改进而来，采取了安全多方计算中秘密分享协议的思想，将密钥拆分成多个碎片，并随机发给公证人。只有当允许的一定比例的公证人共同完成签名后才可拼凑出完整的密钥，从而实现更加去中心化的跨链交互。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.12e21ota3hpc.png" alt="图片源自[1]"></p>
<h3 id="哈希锁定（Hash-locking）："><a href="#哈希锁定（Hash-locking）：" class="headerlink" title="哈希锁定（Hash locking）："></a>哈希锁定（Hash locking）：</h3><p>哈希锁定全称为哈希时间锁定合约（Hash TimeLock Contract），是在无需可信公证人的情况下， 通过哈希锁和时间锁共同完成链间资产兑换的一种跨链技术方案。哈希锁是指对一个哈希值 H，如果提供原像 R 使得 Hash(R) = H，则承诺有效，否则失效；时间锁是指交易双方约定在某个时间内提交才有效，超时则承诺方案失效（无论是提出方或接受方）。时间锁的存在可以保证如果交易因为各种原因未能成功，能够让交易参与各方拿回自己资金，避免因欺诈或交易失败造成的损失。</p>
<p>哈希锁定起源于比特币闪电网络、目前还应用在以太坊雷电网络、sprites通道。</p>
<p>通过序贯博弈的纳什均衡策略，可以得出最理性的、双方均收益最大的策略就是按照哈希锁定的步骤诚实执行[6]。</p>
<p>在实现过程中，发起者首先随机选取秘密值作为哈希解密密钥，然后将秘密值进行哈希计算并将得到的哈希值作为哈希上锁的公钥发送给响应者;发起者和响应者将各自数字资产通过哈希值锁定在智能合约中，同时设置各自的时间锁(通常发起者的时间锁大于响应者的时间锁)，如果在规定时间内双方都提供了秘密值，则合约中锁定的资产将兑换成功，否则，只要有任何一方不能在规定的时间内提供秘密值(哈希解密密钥)，则合约中锁定的资产将被对方收回。哈希锁定的原子互换协议保证了同一条链中的资产总量保持不变， 但哈希锁定的使用范围比较局限，通常只能用于跨链的资产兑换，并不能实现资产的跨链转移。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.4ts7zpfp7fa0.png" alt="image"></p>
<p>1、Alice 随机构建一个字符串 s，并计算出其哈希 h = hash(s) ；</p>
<p>2、Alice 将 h 发送给 Bob 的合约；</p>
<p>3、Alice 锁定自己的 1 个 BTC 资产，并设置一个较长的锁定时间 t1, 并设置了获取该 BTC 的一个条件：谁能够提供 h 的原始值 s 就可以得到该 BTC;</p>
<p>4、Bob 观察到 Alice 合约中锁定了一个 BTC, 然后 Bob 锁定自己的 20 个 ETH 资产，并设置一个相对较短的锁定时间 t2 , t2 &lt; t1, Bob 也设置了同样获取条件（谁提供 h 的原始值 s 就可以获取 20 个 ETH）；</p>
<p>5、Alice 将自己最初生成的字符串 s 发送到 Bob 的合约里取得了 20 个 ETH;</p>
<p>6、Bob 观察到步骤 5 中 Alice 的 s 值，将其发送给 Alice 的合约成功获取 1 个 BTC; 至此 Alice 和 Bob 完成了资产的交换。</p>
<p>从上述例子，可以分析出：</p>
<p>1、进行跨链资产交换的双方必须能够解析双方的合约内部数据，例如 s，例如锁定资产的证明等。</p>
<p>2、哈希锁定的超时时间设置时需要保证存在时间差，这样在单方面作弊时另一方可以及时撤回自己的资产。</p>
<h4 id="HTLC协议的改进–HTLAs-Hashed-Time-Lock-Agreements"><a href="#HTLC协议的改进–HTLAs-Hashed-Time-Lock-Agreements" class="headerlink" title="HTLC协议的改进–HTLAs(Hashed Time-Lock Agreements):"></a>HTLC协议的改进–HTLAs(Hashed Time-Lock Agreements):</h4><p>该协议是 Interledger 提出的基于 HTLC 的泛化协议，目标是不管区块链账本是否支持 HTLC 协议，不管其是分布式区块链还是中心化账本，系统和系统之间都能使用 HTLAs 实现跨链交换，并且支持多个系统之间的多跳跨链互换。HTLAs 根据系统支持的功能性主要可区分成四种：</p>
<p>条件支付通道（Conditional Payment Channels with HTLC）：此种协议需要区块链账本支持 HTLC 条件支付通道，并可以在交易结束后更新通道余额。闪电网络的 HTLC 机制属于这类。交易参与者需要在区块链上预先支付一笔资金至双方共有的临时账户中 (即通道余额)。当交易开始时，发送者会发送一个带有哈希锁和时间锁以及附带签名的更新到接收者。若接收者能在约定时间内告知哈希锁的原像，则可从账户中获取资金，并且发送者与接收者需要同时签名确认共有账户的余额变动。由于交易的传输和处理时间会被计算在交易时间范围内，所以该种协议更适合支持高速交易的区块链系统。</p>
<p>链上持有 / 托管 (On-Ledger Holds/Escrow with HTLC)：此种协议需要区块链支持 HTLC 协议，并且费率低、交易速度快、吞吐量高。以太坊和 Ripple 第三方托管合约属于此类。交易参与者可以直接通过 HTLC 协议发起跨链交易。交易发起者将要传输的资金先放到区块链提供的特定持有账户中，并且附带哈希锁和时间锁。只有当接收者在约定时间前能提供正确的哈希原像，区块链才将资金发送给接收者，否则区块链会把资金退回给发送者。只要区块链是可信赖的，这种方式可由区块链全权控制交易状态，交易双方没有额外风险。它与条件支付通道的差异是，交易参与者是将资金存放在区块链账户，而非双方共有账户。</p>
<p>简单支付通道 (Simple Payment Channels) ：简单支付通道的特点是交易双方可以合并多个交易而只清算最终账户的净轧差。简单支付通道交易发生在链下而非链上，且双方需要在同一区块链上拥有账户。交易分为以下三个阶段 : 设立阶段、状态更新阶段以及清算阶段。简单支付通道要求其中一方或双方需要将一定数量的资金托管在一个暂时性且共享的支付通道中。通过简单支付通道可以节省交易费。</p>
<p>信任线 (Trustlines)：信任线是交易双方凭借信任基础进行的一种交易方式。信任线交易发生在链下而非链上，只有最后清算在链上发生。交易可以分为以下三个阶段 : 设立阶段、状态更新阶段以及清算阶段。想要开始一个信任线交易。Alice 首先需要设定 Bob 的信任线额度，这个信任线额度关系到 Bob 可以在双方的信任线做的交易额度而无须清算。信任线和简单支付通道的主要有两个差异 : 一是在信任线机制下，交易双方无须存一笔保证金至通道，可以以最初设定的余额进行逐笔交易，相当于信用交易。二是一旦交易总金额超过双方信任线额度，或是双方同意清算，便可以直接进行一笔链上转账结束交易。而在简单支付通道机制下，任何一方均可主动结束交易，不需双方同意。</p>
<h3 id="侧链-中继（side-chain-relay）"><a href="#侧链-中继（side-chain-relay）" class="headerlink" title="侧链/中继（side chain/relay）:"></a>侧链/中继（side chain/relay）:</h3><p>该类技术是一种能够自行检验交易数据且具有可扩展性的跨链技术。</p>
<p>侧链是相对于主链而言的，主链不知道侧链的存在，但侧链知道主链的存在，并且能够验证和解析主链中的区块数据和账本数据。当主链上需要处理较多的事务或者出现性能瓶颈时，可以将主链上的资产转移到侧链上处理，进而减轻主链上的压力，达到扩展主链功能和性能的目的。侧链实现的核心原理是双向锚定（two-way peg）技术，即跨链双方互埋对方情节点，实现互相读取对方链上的信息，这种情况下两条链均成为了彼此的侧链，两个方向都有relayer负责向对方传递消息。双向锚定技术目前可以通过单一托管模式、联盟模式、SPV 模式、驱动链模式和混合模式来实现。</p>
<p>单一托管模式：单一托管模式是实现双向锚定最简单的方式， 其基本原理与单一公证人机制相同。交易参与方把资产发送给托管方，托管方在侧链上将相应资产发送给交易方侧链账户。</p>
<p>联盟模式：使用公证人联盟的形式作为资产托管方，利用多重签名的方式来减少单中心的风险。</p>
<p>驱动链模式：驱动链概念是由 Bitcoin Hivemind 创始人 Paul 提出的。在驱动链中，交易处理节点代表公证人组的角色，负责资金托管和解锁。交易处理节点把其他链上的资产锁定信息提交到区块中，发起提案， 经过投票与确认之后，在当前链上解锁指定资产。</p>
<p>SPV模式：内容过长，在附录中描述。</p>
<p>现今最大的侧链跨链应用是 BTCRelay，其具体实现方式是增加一段部署在以太坊上的智能合约，使以太坊可以验证比特币的区块头，通过验证比特币自身的SPV证明，实现对比特币区块上交易真实性的确认。缺陷在于仅支持以太坊和比特币之间得到跨链，而且不能让比特币同时读取以太坊区块链的信息，因此BTCRelay的通信是单向的。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.sc0641sco7k.png" alt="image"></p>
<p>1、Bob 将 20ETH 发送到 BTCSwap 的合约进行冻结；(该合约只要能够确认 BTC 网络上 Bob 接收到来自 Alice 1BTC 就自动将 20ETH 转给 Alice)；</p>
<p>2、Alice 确认 Bob 冻结信息后，将 1 BTC 转给 Bob 比特币账户；</p>
<p>3、BTC Relayer 将比特币区块头推送到 BTCSwap 合约；</p>
<p>4、Alice 接下来就可以调用 relay tx;</p>
<p>5、BTCSwap 合约结合 tx 和 BTC 链的区块链进行 SPV 验证，验证通过则将 20ETH 转给 Alice 以太坊地址。</p>
<p>中继是从各主链抽象分离出来的一个跨链操作层，其它所有链都和中继链建立连接，减少连接数和成本，避免受到主链的技术限制，保持中立的同时也能为自身项目积累价值，此外中继链提供的统一的语言，仅通过中间人收集 2 条链之间的数据状态进行自我验证，可减少链路之间通信的安全隐患，适用于链接 2 个异构或同构区块链。由于中继跨链模式需要等待信息上链，因此其效率较低。</p>
<p>两者在实现过程中均需要采集原链上的信息，但两者在从属关系、执行过程、安全性方面也存在较大差异。在从属关系上，侧链从属于主链，交易被限定在主链和侧链之间，主要侧重于优化区块链的可扩展性;中继没有从属关系，采用中心辐射的设计，不从属于某条主链，更像是“调度中心”，着重于跨链数据的传输。从执行过程看，由于侧链处理交易过程中需要同步所有的区块头，因此侧链的速度比中继慢。在安全性方面，侧链和主链的安全性机制是独立的，由于侧链的安全性是建立在侧链能持续激励矿工进行交易一致性验证的基础之上的，所以主链的安全性并不能在侧链上起作用;中继完全是由主链自行验证。</p>
<h4 id="polkadot："><a href="#polkadot：" class="headerlink" title="polkadot："></a>polkadot：</h4><p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.78h4xn9x1jc0.png" alt="image"></p>
<p>polkadot中有三种链：</p>
<p>1、中继链（Relay chain）: 中继链位于 Polkadot 的体系的核心地位，主要是为整个系统提供统一的共识和安全性保障；</p>
<p>2、平行链（Parachain）: 在Polkadot中平行链负责具体的业务场景，平行链自身不具备区块的共识，它们将共识的职责渡让给了中继链，所有平行链共享来自中继链的安全保障，中继链是 Polkadot 组成的一部分；</p>
<p>3、桥接链：桥接链指的是非 Polkadot 体系之外的区块链，如 Bitcoin, Ethereum， 这些区块链有自身的共识算法，它们通过不同的 Bridge 与 Polkadot 连接在一起进行跨链交互。</p>
<p>polkadot中有四种角色：</p>
<p>1、验证者(Validator): 验证者负责 Polkadot 的网络出块，会运行一个中继链的客户端，在每一轮区块产生中会对其提名的平行链出的块进行核验。当平行链的跨都被他们的子验证者集合确定好之后，验证者们会将所有平行链区块头组装到中继链的区块并进行共识。</p>
<p>2、核验人(Collator): 帮助验证者收集、验证和提交备选平行链区块，维护了一个平行链的全节点。</p>
<p>3、钓鱼人(Fisherman):钓鱼人主要靠检举非法交易或者区块以获取收益；</p>
<p>4、提名人(Nominator): 拥有 stake 的相关方，维护和负责验证者的安全性。</p>
<p>polkadot跨链交易的过程如下：</p>
<p>1、A 链将跨链交易放到自己的 engress(每个平行链有一个消息输出队列 engress 和一个消息输入队列 ingress);</p>
<p>2、A 链的 Collator 收集 A 链的普通交易以及跨链交易并提交给 A 链的验证者集合；</p>
<p>3、A 链的验证者集合验证成功，将本次 A 链的区块头信息以及 A 链的 engress 内信息提交到中继链上；</p>
<p>4、中继链运行共识算法进行区块确认以及跨链交易路由，中继链上的验证者会将 A 链的相应交易从 A 链的 engress queue 中移动到 B 链的 ingress queue 中。</p>
<p>5、B 链执行区块，将 ingress queue 中相应交易执行并修改自身账本。</p>
<p>由于所有平行链的共识同步发生（中继链区块示意图如下），因此polkadot跨链交易不会有诸如双花等安全性问题。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.42wbjsutc080.png" alt="image"></p>
<h4 id="cosmos："><a href="#cosmos：" class="headerlink" title="cosmos："></a>cosmos：</h4><p>cosmos目前仅支持资产的跨链，其网络拓扑架构可以分为Zone和hub两部分，Zone相当于polkadot里的平行链，hub相当于polkadot里的中继链。由 Hub 追踪记录各个 Zone 的状态，而每一个 Zone 有义务不停地把自身产出的新区块汇报给 Hub 。类似地，每一个 Zone 也需要同步 Hub 的状态，Zone与hub之间通过 IBC (inter-blockchain communication protocol) 协议进行通信。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.crg633zoxqo.png" alt="image"></p>
<p>为了方便zones平行链对开发，cosmos提供了tendermint和cosmos sdk，其中tendermint是对网络层和共识层的的封装，cosmos sdk则是对应用层的封装：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.12qd4uxqihts.png" alt="image"></p>
<p>cosmos中各个平行链之间跨链必须要满足两个前置条件：</p>
<p>1、快速确定性（fast finality）：该特性由tendermint中的共识算法保证，即 Cosmos 中的跨链不直接支持概率确定模型的区块链，比如基于POW算法的比特币和以太坊，这些区块链产生的新区块是概率最终性的，是有可能发生回滚的，因此不能直接使用cosmos中的跨链需要使用peg Zone作为中转。</p>
<p>2、强监管性（sovereignty）：每个平行链都具 备一组验证者能够决定其出块。</p>
<p>cosmos中同构链的跨链：</p>
<p>1、Zone1 发起一笔 IBC BlockCommitTx 交易，将其区块的头部信息 h 以及所有验证人的公钥信息传递到 Hub 上。</p>
<p>2、Zone1 执行该笔交易，将相关的资产进行销毁或锁定，并将该笔交易写入egress中，这一点类似于polkadot</p>
<p>3、Zone1 的中继程序将egress中的交易生成默克尔证明用于 Hub 对交易的验证，并作为 IBC PacketTx 的一部分发送到 Hub。</p>
<p>4、Hub 中的验证者验证默克尔证明是否有效， 若有效则发送消息给 Zone2（Hub 给 Zone2 发送消息的过程重复上述步骤）。</p>
<p>5、Zone2 在接收到 Hub 发送的跨链交易后，验证其为 Zone1 发起的真实有效交易，并发送消息给 Hub 确认可接收 Zone1 的资产。</p>
<p>6、Hub 给 Zone2 发送消息，将资产发送给Zone2，本质上是跨了两次链（Zone1-hub，hub-Zone2）。</p>
<p>cosmos中异构链的跨链：</p>
<p>异构链跨链采用PegZone作为中转，PegZone本身是一条用Tendermint开发的区块链，可以实时跟踪原始链的状态，通过设定一个安全阀值，等待原始链区块增长数达到安全阀值时就认为原始链的状态达到了伪快速确定性（回滚概率小），这点和轻客户端钱包验证是相同的原理，例如比特币安全阀值通常设置为6，以太坊安全阀值可以设置为20或者100。而PegZone本身具备快速确定性，就可以通过IBC与Hub相连，从而实现跨链。</p>
<p>如果以太坊中的用户要把资产转移到 Cosmos 中，首先需要在以太坊上部署一个用于资产托管的智能合约，在智能合约中可以编写跨链交互的规则与逻辑，并负责跨链交易的处理。当用户需要转账到 Cosmos 时，可以先将以太坊中的 ETH 转移到资产托管智能合约中，ETH 转移到合约后将被锁定，如果跨链交易失败，那么系统将被回退到交易执行前的状态。或者当资产托管智能合约检测到 Cosmos 有跨链交易时将资产转移到以太坊，那么合约中将解锁相应的资产。当跨链交易被 Peg Zone的验证节点接收时，将对以太坊发送给资产托管智能合约的交易进行验证。 验证通过后将在 Peg Zone 内生成对应的 CosmosETH（SPV 验证）。将 Cosmos-ETH 转移到以太坊的过程也类似，不过 Peg Zone 转到以太坊的 Cosmos-ETH 将被销毁，而冻结在资产托管智能合约中的 ETH 会被解锁，并转移到用户指定的账户。</p>
<p>侧链/中继跨链模式可以在链中创建智能合约，该智能合约将发起链的区块头为输入，使用发起链内的标准检验方式来检验区块链是否满足共识算法规范要求。侧链/中继以轻客户端验证技术为基础，即在跨链交互的过程中，在一条链上执行类似区块链轻客户端功能的智能合约，通过另一条链的加密哈希树以及区块头来验证链间的某项特定交易、事件或状态信息是否发生。</p>
<h3 id="分布式私钥控制（distributed-private-key-control）："><a href="#分布式私钥控制（distributed-private-key-control）：" class="headerlink" title="分布式私钥控制（distributed private key control）："></a>分布式私钥控制（distributed private key control）：</h3><p>分布式私钥控制通过分布式节点控制各种资产的私钥，并将原链资产映射至跨链中，确保各种资产在区块链系统中实现互联互通。分布式私钥控制的核心在于分布式控制管理，即将资产的所有权和使用权分离，在原链上数字资产的控制权安全地转移至非中心化系统中，优势在于可以比较好的支持多种币的交互。</p>
<p>基于分布式私钥控制的项目有wanchain、Fusion、EKT。</p>
<p>阅读各类文献资料之后，个人分布式私钥控制严格意义上并不能算是一种独立的跨链技术，本质上分布式私钥控制类似于公证人机制中的分布式多重签名公证人，只是将私钥采用安全多方计算中秘密分享（secret sharing）的思想，分给多个验证人而已，结合下面的例子，将为大家讲述一下分布式私钥的过程：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.q1zfivq89o0.png" alt="image"></p>
<ol>
<li>A账户和B账户同时向分布式密钥网络系统（比如上文提到的Fusion，wanchain）发出跨链申请。</li>
<li>系统生成账户C，产生对应的公钥和私钥，公钥就是C的地址。<strong>其中将私钥分为N份，然后分发给N个分布式网络中参与者，参与者每人掌握一部分私钥。</strong></li>
<li>系统将C的地址发送给A。</li>
<li>A账户在比特币链中实现交易A—&gt;C(1BTC)，交易在一段时间的等待期后被收集写进区块链中。并在后续有连续的多个区块确认。</li>
<li>此时，系统开始检查账户C中的金额是否是B账户所要求的金额(是否符合当时汇率)。验证通过后，即达成了对A的锁定。</li>
<li>系统再生成账户D产生对应的公钥和私钥，公钥就是D的地址。同样的，<strong>其中将私钥分为N份，然后分发给N个分布式网络中参与者，参与者每人掌握一部分私钥。</strong></li>
<li>系统将D的地址发送给B</li>
<li>在以太坊中B-&gt;D(10ETH).同样的要等待多个确认。</li>
<li>此时，系统开始检查账户D中的金额是否是A账户所要求的金额(是否符合当时汇率)。验证通过后，即达成了对B的锁定。</li>
<li>系统将分布式系统中D账户的私钥收集起来，可能达到K个私钥就可以恢复出这个完整的私钥了(k &lt; N),将私钥交给A，<strong>A就有了在以太坊链上的10ETH使用权</strong>。同样的，系统将分布式系统中C账户的私钥收集起来，可能达到K个私钥就可以恢复出这个完整的私钥了(k &lt; N),将私钥交给B，<strong>B就有了在比特币链上的1BTC使用权。</strong></li>
</ol>
<h3 id="公证人-侧链混合机制（notary-scheme-sidechains-mixing-technology）："><a href="#公证人-侧链混合机制（notary-scheme-sidechains-mixing-technology）：" class="headerlink" title="公证人+侧链混合机制（notary scheme+sidechains mixing technology）："></a>公证人+侧链混合机制（notary scheme+sidechains mixing technology）：</h3><p>通过侧链技术提高区块链系统间高效通信的效率，利用公证人机制实现资产跨链，进而支持跨链资产交互、跨链合约以及资产抵押</p>
<h3 id="以上技术方案对比："><a href="#以上技术方案对比：" class="headerlink" title="以上技术方案对比："></a>以上技术方案对比：</h3><p>在互操作性方面，哈希锁定是一种交叉依赖关系，相对于其他几种跨链模型存在明显的不足;在信任模型方面，公证人机制需要多处可信第三方作为公证人，容易造成中心化，而其他几种跨链模型不存在这方面问题;在跨链交易处理方面，哈希锁定的局限性比较大，大多数情况下能支持跨链资产兑换，不支持跨链资产转移， 而其他几种跨链模式都能较好地支持跨链交易的相关操作;在多币种智能合约方面，只有分布式私钥控制技术能够得到有效的支持，其他几种跨链模式都还有待优化完善; 在技术安全与性能方面，公证人模式、侧链/中继模式的安全性都比较低，交易速度也还有待提升，公证人+侧链混合模型在安全性和交易速度方面都较好，但实现难度较高</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.6rr12h296hk0.png" alt="图片源自[1]"></p>
<h2 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h2><h3 id="SPV（Simplified-Payment-Verification）-5-："><a href="#SPV（Simplified-Payment-Verification）-5-：" class="headerlink" title="SPV（Simplified Payment Verification）[5]："></a>SPV（Simplified Payment Verification）[5]：</h3><p>SPV就是在轻节点的情况下，验证区块链网络中一笔交易的有效性。但是轻节点是没有保存任何交易的，所以一笔单独的交易时无法通过轻节点确定该笔交易属于哪个区块。SPV的具体过程如下：</p>
<p>1、首先，轻节点会发起一个专门的确认请求，把这个请求广播给网络上邻近的全节点。</p>
<p>2、全节点收到交易后，会去搜索这个交易属于哪个区块，然后会运算这个区块的 Merkle Tree，然后以merkle block的形式发送给轻节点 。由于Merkle Tree的性质，所以不需要把整个 Merkle Tree 都发送给轻节点的，而只需要发送跟当前交易相关的部分 Merkle 树即可。</p>
<p>3、轻节点接收到这个部分 Merkle 树之后，在自己本地在运算一下这个交易的哈希，然后根据部分 Merkle 树上的各个哈希值，一路运算获得 Merkle 根，如果这个值跟自己的区块头中的正好吻合，交易验证就成功了。</p>
<p>所以整个 SPV 过程是靠全节点帮忙去验证交易的，轻节点自身不能验证交易，但是通过确认其他全节点都接受了这次交易，就间接完成了交易确认。但是，全节点有没有可能反馈一个假的 Merkle Tree 过来呢？答案是不可能。在 Merkle 验证中用一个伪造的交易哈希来得到一个已知的 Merkle 根是不可能的。比特币计算 Merkle 树哈希使用的是 sha256 算法，伪造就相当于去碰撞 sha256 算法了，从概率上分析是根本不可能的。</p>
<h3 id="侧链与子链-7-："><a href="#侧链与子链-7-：" class="headerlink" title="侧链与子链[7]："></a>侧链与子链[7]：</h3><p>在查阅资料的过程中，发些有一些资料内对于侧链和子链两个概念进行了混淆使用，因此特地在附录中对二者的概念进行区分。</p>
<p>首先二者都是诞生于对区块链扩容技术的研究。但是子链是没有自己的共识机制和token代币的，其安全性完全依托于主链的安全性；而侧链从本质上讲是一条独立于主链运行的链，有自己的共识机制和token代币。</p>
<p>其次子链的最终目的是为了扩容，子链通过将交易从主链挪到子链进行，并定期向主链同步最终状态来实现对主链性能的扩容，所以，子链也被称为”提交链”，提交链的叫法比子链的叫法更贴近其技术本质。而扩容的本质是为了节省主链的资源，因此主链并不会花费计算资源实现对子链提交的交易进行验证。所以子链自身需要一个机制在提交时证明其所提交的内容的真实性。其中状态通道，Optimistic Rollup，Arbitrum Rollup 采用欺诈证明的方式来证明，而 Zk Rollup，Validium 则采用零知识证明的方式生成有效性证明。</p>
<h3 id="基于SPV模式的侧链的发展改进方向"><a href="#基于SPV模式的侧链的发展改进方向" class="headerlink" title="基于SPV模式的侧链的发展改进方向:"></a>基于SPV模式的侧链的发展改进方向:</h3><p>由于只存储区块头，所以spv模式在区块链TPS不高的时候，内存消耗和合约的gas费消耗还不算高，但是在如今区块链TPS越来越高的现在，这二者带来的问题也不容忽视。</p>
<p>首先一个方向是对SPV模式存储的区块头的内存消耗进行优化。斯坦福大学的 Benedikt Bunz 在论文《FlyClient: Super-Light Clients for Cryptocurrencies》中提出的一种新型轻节点协议FlyClient。通过该协议轻节点不需要存储所有的区块头，而是只需存储最新的区块头。通过“默克尔树”的变体”默克尔山脉（Merkle Mountain Range）“可以随时恢复所有的区块头。</p>
<p>另一个方向是优化spv验证时的gas费消耗，目前比较主流的方案时zkRelayer 和欺诈证明。前者是链下生成证明提交到链上，后者则是通过激励机制来激励Relayer提交正确的区块。</p>
<h3 id="cosmos和polkadot对比："><a href="#cosmos和polkadot对比：" class="headerlink" title="cosmos和polkadot对比："></a>cosmos和polkadot对比：</h3><p><img src="https://cdn.jsdelivr.net/gh/Rayleigh-Guan/imageshub@master/20211019/image.y4crhv1yw5c.png" alt="image"></p>
<h2 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h2><p>[1]区块链跨链技术发展及应用研究综述 </p>
<p>[2]区块链跨链技术研究 路爱同、赵阔、杨晶莹、王峰。</p>
<p>[3] <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/news/840490">https://cloud.tencent.com/developer/news/840490</a></p>
<p>[4] <a target="_blank" rel="noopener" href="https://www.cxyzjd.com/article/weixin_43988498/109284905">https://www.cxyzjd.com/article/weixin_43988498/109284905</a></p>
<p>[5] <a target="_blank" rel="noopener" href="https://happypeter.github.io/binfo/spv">https://happypeter.github.io/binfo/spv</a></p>
<p>[6] <a target="_blank" rel="noopener" href="https://www.chainnews.com/articles/365768981629.htm">https://www.chainnews.com/articles/365768981629.htm</a></p>
<p>[7] <a target="_blank" rel="noopener" href="https://www.chainnews.com/articles/252138338927.htm">https://www.chainnews.com/articles/252138338927.htm</a> </p>
<p>[8] <a target="_blank" rel="noopener" href="https://cointelegraphcn.com/news/is-cosmos-and-polkadots-cross-chain-the-same-thing">https://cointelegraphcn.com/news/is-cosmos-and-polkadots-cross-chain-the-same-thing</a> </p>
<p>[9] <a target="_blank" rel="noopener" href="https://medium.com/@gcc2ge/cosmos%E8%B7%A8%E9%93%BE%E5%8D%8F%E8%AE%AE-b693a171d266">https://medium.com/@gcc2ge/cosmos%E8%B7%A8%E9%93%BE%E5%8D%8F%E8%AE%AE-b693a171d266</a></p>
<p>[10] <a target="_blank" rel="noopener" href="https://learnblockchain.cn/2019/05/21/what-is-cosmos/">https://learnblockchain.cn/2019/05/21/what-is-cosmos/</a></p>
<p>[11] 区块链跨链技术分析 郭朝、郭帅印、张胜利、宋令阳、王晖</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/">跨链技术</a></p>
        <p><span>Author:</span>Rayleigh-Guan</p>
        <p><span>Created:</span>2021-10-20, 10:47:24</p>
        <p><span>Updated:</span>2021-12-31, 00:18:36</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/" title="跨链技术">https://rayleigh-guan.github.io/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/</a>
            <span class="copy-path" data-clipboard-text="From https://rayleigh-guan.github.io/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/　　By " title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2021/11/11/layer2/">
                    Layer2技术方案调研
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2021/10/16/AxieInfinity/">
                    AxieInfinity
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">什么是跨链技术？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BA%92%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">跨链的常见互操作类型：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E8%B5%84%E4%BA%A7%E5%85%91%E6%8D%A2%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">跨链资产兑换：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E8%B5%84%E4%BA%A7%E8%BD%AC%E7%A7%BB%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">跨链资产转移：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E4%BB%BB%E6%84%8F%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">跨链任意数据：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">跨链技术的发展历史：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">跨链的类型：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%9E%84%E9%93%BE%E8%B7%A8%E9%93%BE%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">同构链跨链：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%9E%84%E9%93%BE%E8%B7%A8%E9%93%BE%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">异构链跨链：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF%E7%9A%84%E9%9A%BE%E7%82%B9%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">跨链技术的难点：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.1.</span> <span class="toc-text">跨链事务管理问题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E4%BA%A4%E6%98%93%E9%AA%8C%E8%AF%81%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">跨链交易验证问题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E4%BA%A4%E6%98%93%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.3.</span> <span class="toc-text">跨链交易性能问题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%93%BE%E5%8D%8F%E8%AE%AE%E9%80%82%E9%85%8D%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.4.</span> <span class="toc-text">多链协议适配问题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%81%E5%AE%9A%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.5.</span> <span class="toc-text">锁定资产管理问题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E9%93%BE%E5%AE%89%E5%85%A8%E4%BF%9D%E9%9A%9C%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">5.6.</span> <span class="toc-text">跨链安全保障问题：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%89%8D%E4%B8%BB%E6%B5%81%E7%9A%84%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">目前主流的跨链技术：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E8%AF%81%E4%BA%BA%E6%9C%BA%E5%88%B6%EF%BC%88notary-scheme%EF%BC%89%EF%BC%9A"><span class="toc-number">6.1.</span> <span class="toc-text">公证人机制（notary scheme）：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E7%AD%BE%E5%90%8D%E5%85%AC%E8%AF%81%E4%BA%BA%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">6.1.1.</span> <span class="toc-text">单签名公证人机制：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%AD%BE%E5%90%8D%E5%85%AC%E8%AF%81%E4%BA%BA%EF%BC%9A"><span class="toc-number">6.1.2.</span> <span class="toc-text">多重签名公证人：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E5%A4%9A%E9%87%8D%E7%AD%BE%E5%90%8D%E5%85%AC%E8%AF%81%E4%BA%BA%EF%BC%9A"><span class="toc-number">6.1.3.</span> <span class="toc-text">分布式多重签名公证人：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E9%94%81%E5%AE%9A%EF%BC%88Hash-locking%EF%BC%89%EF%BC%9A"><span class="toc-number">6.2.</span> <span class="toc-text">哈希锁定（Hash locking）：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTLC%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%94%B9%E8%BF%9B%E2%80%93HTLAs-Hashed-Time-Lock-Agreements"><span class="toc-number">6.2.1.</span> <span class="toc-text">HTLC协议的改进–HTLAs(Hashed Time-Lock Agreements):</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E9%93%BE-%E4%B8%AD%E7%BB%A7%EF%BC%88side-chain-relay%EF%BC%89"><span class="toc-number">6.3.</span> <span class="toc-text">侧链&#x2F;中继（side chain&#x2F;relay）:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#polkadot%EF%BC%9A"><span class="toc-number">6.3.1.</span> <span class="toc-text">polkadot：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cosmos%EF%BC%9A"><span class="toc-number">6.3.2.</span> <span class="toc-text">cosmos：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%A7%81%E9%92%A5%E6%8E%A7%E5%88%B6%EF%BC%88distributed-private-key-control%EF%BC%89%EF%BC%9A"><span class="toc-number">6.4.</span> <span class="toc-text">分布式私钥控制（distributed private key control）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E8%AF%81%E4%BA%BA-%E4%BE%A7%E9%93%BE%E6%B7%B7%E5%90%88%E6%9C%BA%E5%88%B6%EF%BC%88notary-scheme-sidechains-mixing-technology%EF%BC%89%EF%BC%9A"><span class="toc-number">6.5.</span> <span class="toc-text">公证人+侧链混合机制（notary scheme+sidechains mixing technology）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E4%B8%8A%E6%8A%80%E6%9C%AF%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94%EF%BC%9A"><span class="toc-number">6.6.</span> <span class="toc-text">以上技术方案对比：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95%EF%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">附录：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SPV%EF%BC%88Simplified-Payment-Verification%EF%BC%89-5-%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">SPV（Simplified Payment Verification）[5]：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E9%93%BE%E4%B8%8E%E5%AD%90%E9%93%BE-7-%EF%BC%9A"><span class="toc-number">7.2.</span> <span class="toc-text">侧链与子链[7]：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8ESPV%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BE%A7%E9%93%BE%E7%9A%84%E5%8F%91%E5%B1%95%E6%94%B9%E8%BF%9B%E6%96%B9%E5%90%91"><span class="toc-number">7.3.</span> <span class="toc-text">基于SPV模式的侧链的发展改进方向:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cosmos%E5%92%8Cpolkadot%E5%AF%B9%E6%AF%94%EF%BC%9A"><span class="toc-number">7.4.</span> <span class="toc-text">cosmos和polkadot对比：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%EF%BC%9A"><span class="toc-number">8.</span> <span class="toc-text">参考资料：</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-6 i,
        .toc-level-6 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>





    
        <section id="comments" style="margin: 2em; padding: 2em; background: rgba(255, 255, 255, 0.5)">
    <div id="vcomment" class="comment"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@1.2.0-beta1/dist/Valine.min.js"></script>
    <script>
      new Valine({
        el: '#vcomment',
        notify: 'true',
        verify: 'true',
        app_id: "dKKUohnqbQTf4UXnuYuUgqwa-gzGzoHsz",
        app_key: "YnG4XecexqwSglQGzuqViNBs",
        placeholder: "Just go go!",
        avatar: "mp"
      });
    </script>
</section>
```


    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2021/11/11/layer2/" title="Pre: Layer2技术方案调研">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2021/10/16/AxieInfinity/" title="Next: AxieInfinity">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/11/11/Immutable-X/">Immutable-X</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/11/11/layer2/">Layer2技术方案调研</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/20/%E8%B7%A8%E9%93%BE%E6%8A%80%E6%9C%AF/">跨链技术</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/16/AxieInfinity/">AxieInfinity</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/15/%E9%80%89%E8%B0%83%E5%88%86%E4%BA%AB%E4%BA%A4%E6%B5%81%E4%BC%9A/">选调分享交流会</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/15/%E9%9A%90%E7%A7%81%E8%AE%A1%E7%AE%97/">隐私计算</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2021-2022 Rayleigh Guan
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>